(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["orderPackage-orderBack-orderBack"],{"100e":function(e,t,r){"use strict";var n=r("f83c"),a=r.n(n);a.a},2909:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=s;var n=d(r("6005")),a=d(r("db90")),i=d(r("06c5")),o=d(r("3427"));function d(e){return e&&e.__esModule?e:{default:e}}function s(e){return(0,n.default)(e)||(0,a.default)(e)||(0,i.default)(e)||(0,o.default)()}},3427:function(e,t,r){"use strict";function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},4885:function(e,t,r){"use strict";r.r(t);var n=r("7af5"),a=r("8f50");for(var i in a)"default"!==i&&function(e){r.d(t,e,(function(){return a[e]}))}(i);r("100e");var o,d=r("f0c5"),s=Object(d["a"])(a["default"],n["b"],n["c"],!1,null,"48b0928f",null,!1,n["a"],o);t["default"]=s.exports},6005:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var n=a(r("6b75"));function a(e){return e&&e.__esModule?e:{default:e}}function i(e){if(Array.isArray(e))return(0,n.default)(e)}},"7af5":function(e,t,r){"use strict";var n;r.d(t,"b",(function(){return a})),r.d(t,"c",(function(){return i})),r.d(t,"a",(function(){return n}));var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.orderInfo.orderBase?r("v-uni-view",{staticClass:"order-back"},[r("div",{staticClass:"card"},[r("div",{staticClass:"order-title"},[r("v-uni-text",[e._v("订单编号: "+e._s(e.orderInfo.orderBase.orderSn))])],1),e._l(e.orderInfo.orderItems,(function(t){return r("div",{staticClass:"sku-block"},[r("v-uni-image",{staticClass:"img",attrs:{src:t.productPic,mode:""}}),r("div",{staticClass:"info"},[r("div",{staticClass:"p1"},[r("v-uni-text",{staticClass:"title"},[e._v(e._s(t.productName))]),r("v-uni-text",{staticClass:"price"},[e._v("¥"+e._s(t.realAmount))])],1),r("div",{staticClass:"p2"},[r("v-uni-text",[e._v("编号："+e._s(t.productSn))]),r("v-uni-text",[e._v("x "+e._s(t.productQuantity))])],1),r("div",{staticClass:"p3"},e._l(t.productAttr,(function(t,n){return r("v-uni-text",{key:n,staticStyle:{"margin-right":"10rpx"}},[e._v(e._s(t.key)+" : "+e._s(t.value))])})),1)])],1)})),r("div",{staticClass:"total-price"},[r("v-uni-text",[e._v("合计: ¥"+e._s(e.orderInfo.orderBase.totalAmount))])],1)],2),e.companyList.size>0?r("div",{staticClass:"per"},[r("div",{staticClass:"title"},[e._v("请选择退单公司:")]),r("v-uni-picker",{attrs:{mode:"selector",range:e.companyList,"range-key":"id",value:e.current},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.selectAddress.apply(void 0,arguments)}}},[r("v-uni-view",[e._v(e._s(e.companyList[e.current].addressName))])],1)],1):e._e(),r("div",{staticClass:"per"},[r("div",{staticClass:"title"},[e._v("请选择退单数量:")]),r("v-uni-text",[e._v(e._s(e.orderInfo.orderItems[0].productQuantity))])],1),r("div",{staticClass:"per"},[r("div",{staticClass:"title"},[e._v("请输入退货原因:")]),r("v-uni-input",{attrs:{type:"text",placeholder:"请输入退货原因"},model:{value:e.reason,callback:function(t){e.reason=t},expression:"reason"}})],1),r("div",{staticClass:"per"},[r("div",{staticClass:"title"},[e._v("请选择退货地址:")]),r("v-uni-picker",{attrs:{"range-key":"addressName",value:e.current,range:e.companyList},on:{change:function(t){arguments[0]=t=e.$handleEvent(t),e.bindPickerChange.apply(void 0,arguments)}}},[r("v-uni-view",{staticClass:"uni-input"},[e._v(e._s(""==e.current?"请选择退货地址":e.companyList[e.current].addressName))])],1)],1),r("div",{staticClass:"bak per"},[r("div",{staticClass:"title"},[e._v("请输入问题描述:")]),r("v-uni-textarea",{staticClass:"text-area",attrs:{placeholder:"请输入问题描述"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1),r("v-uni-view",{staticClass:"per upload"},[r("v-uni-view",[r("v-uni-view",{staticClass:"title"},[r("strong",[e._v("温馨提醒:")]),r("v-uni-view",[e._v("上传图片总大小不能超过3m，单个文件大小不能超过1m，图片总个数不能超过3张")])],1),r("v-uni-view",{staticClass:"uploadImg"},[r("v-uni-view",{staticClass:"uploadBtn",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.selectImg.apply(void 0,arguments)}}},[r("v-uni-image",{attrs:{src:"/static/icons/jia.png",mode:""}}),e._v("上传图片")],1),r("v-uni-view",{staticClass:"imgList"},e._l(e.initImgList,(function(t){return r("v-uni-view",{staticClass:"box"},[r("v-uni-image",{attrs:{src:t,mode:""}}),r("v-uni-image",{staticClass:"dels",attrs:{src:"/static/icons/shanchus2.png",mode:""},on:{click:function(r){arguments[0]=r=e.$handleEvent(r),e.delImg(t)}}})],1)})),1)],1)],1)],1),r("v-uni-view",{staticClass:"btn-sub",on:{click:function(t){arguments[0]=t=e.$handleEvent(t),e.doBack.apply(void 0,arguments)}}},[e._v("提交")])],1):e._e()},i=[]},8300:function(e,t,r){"use strict";var n=r("4ea4");r("99af"),Object.defineProperty(t,"__esModule",{value:!0}),t.getPreOrderById=i,t.addConfirmOrder=o,t.payConfirm=d,t.findAllOrders=s,t.cancelOrder=u,t.receiveDone=l,t.deleteOrder=f,t.getCompanyAddrss=v,t.addOrderReturnApply=b,t.orderReturnApplys=m,t.orderReturnInfo=g,t._clearAllOrders=h,t.findOrdersByPage=c,t._clearOrderFocus=p;var a=n(r("127a"));function i(e){return(0,a.default)({url:"/lejuClient/order/getPreOrderById/".concat(e),method:"get"})}function o(e){return(0,a.default)({url:"/lejuClient/order/addConfirmOrder",method:"post",data:e})}function d(e){return(0,a.default)({url:"/lejuClient/order/payConfirm",method:"post",data:e})}function s(e){return(0,a.default)({url:"/lejuClient/order/findAllOrders",method:"get",data:e})}function c(e,t,r){return(0,a.default)({url:"/lejuClient/order/findOrdersByPage/".concat(e,"/").concat(t),method:"get",data:r})}function u(e){return(0,a.default)({url:"/lejuClient/order/cancelOrder/".concat(e),method:"post"})}function l(e){return(0,a.default)({url:"/lejuClient/order/receiveDone",method:"post",data:e})}function f(e,t){return(0,a.default)({url:"/lejuClient/order/deleteOrder/".concat(e),method:"delete",data:t})}function p(e){return(0,a.default)({url:"/lejuClient/order/_clearOrderFocus?orderId=".concat(e),method:"post"})}function v(e){return(0,a.default)({url:"/lejuClient/orderReturn/getCompanyAddrss",method:"get",data:e})}function b(e){return(0,a.default)({url:"/lejuClient/orderReturn/addOrderReturnApply",method:"post",data:e})}function m(e){return(0,a.default)({url:"/lejuClient/orderReturn/orderReturnApplys",method:"get",data:e})}function g(e){return(0,a.default)({url:"/lejuClient/orderReturn/".concat(e),method:"get"})}function h(e){return(0,a.default)({url:"/lejuClient/order/_clearAllOrders?sign=OMG",method:"get"})}},"8f50":function(e,t,r){"use strict";r.r(t);var n=r("ae8c"),a=r.n(n);for(var i in n)"default"!==i&&function(e){r.d(t,e,(function(){return n[e]}))}(i);t["default"]=a.a},ae8c:function(e,t,r){"use strict";var n=r("4ea4");r("a4d3"),r("e01a"),r("4de4"),r("7db0"),r("c740"),r("4160"),r("d81d"),r("a434"),r("d3b7"),r("3ca3"),r("159b"),r("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r("96cf");var a=n(r("1da1")),i=n(r("2909")),o=r("8300"),d=n(r("687c")),s={name:"OrderBack",data:function(){return{product:{},status:"1",reason:"",description:"",companyList:[],current:0,count:9,returnCount:0,name:"file",url:d.default+"/lejuClient/orderReturn/uploadImg",header:{},obj:{proofPics:""},backOrder:{},skuid:"",initImgList:[],orderInfo:{}}},computed:{},onLoad:function(e){e.id?(this.skuid=e.skuid,this.orderReturnInfo(e.id),this.getCompanyList()):uni.showToast({title:"获取退单信息失败,请返回重试!"})},methods:{delImg:function(e){var t=this.initImgList.findIndex((function(t){return t==e}));this.initImgList.splice(t,1)},selectImg:function(){var e=this;uni.chooseImage({success:function(t){var r,n=t.tempFiles,a=n.find((function(e){return e.size>1048576}));n.length>3?uni.showToast({title:"一次选择最多不能超过3张",icon:"none"}):a?uni.showToast({title:"单个图片大小不能超过1m"}):n.length+e.initImgList.length>3?uni.showToast({title:"图片总个数不能超过3张",icon:"none"}):(r=e.initImgList).push.apply(r,(0,i.default)(t.tempFilePaths))}})},orderReturnInfo:function(e){var t=this;(0,o.getPreOrderById)(e).then((function(e){console.log(e),e.data.orderItems.forEach((function(e){e.productAttr=JSON.parse(e.productAttr)}));var r=e.data.orderItems.find((function(e){return e.id==t.skuid}));e.data.orderItems=[r],t.orderInfo=e.data}))},bindPickerChange:function(e){this.current=e.detail.value},getCompanyList:function(){var e=this;(0,o.getCompanyAddrss)().then((function(t){e.companyList=t.data.items}))},selectAddress:function(e){var t=e.detail.value;this.current=t},upLoadImage:function(){var e=this;uni.showLoading();var t=[];return this.initImgList.forEach((function(r,n){var a=new Promise((function(t,n){uni.uploadFile({url:e.url,filePath:r,name:e.name,success:function(e){t(e)},fail:function(e){n(e)}})}));t.push(a)})),t},doBack:function(){var e=this;return(0,a.default)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.upLoadImage();case 2:r=t.sent,Promise.all(r).then((function(t){uni.hideLoading(),t.forEach((function(e){e.data=JSON.parse(e.data)}));var r=t.filter((function(e){return 0==e.data.success}));if(0!=r.length)uni.showToast({title:"请检查网络之后重试!",icon:"none"});else{var n=t.map((function(e){return e.data.data.fileUrl}));console.log(n);var a={companyAddressId:e.companyList[e.current].id,count:e.orderInfo.orderItems[0].productQuantity,description:e.description,orderId:e.orderInfo.orderBase.id,orderItemId:e.orderInfo.orderItems[0].id,proofPics:n.join(","),reason:e.reason};(0,o.addOrderReturnApply)(a).then((function(e){1==e.success&&(uni.showToast({title:"申请退货成功!"}),uni.navigateTo({url:"/pages/mine/order/index?type=9"}))}))}}));case 4:case"end":return t.stop()}}),t)})))()}}};t.default=s},db90:function(e,t,r){"use strict";function n(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}r("a4d3"),r("e01a"),r("d28b"),r("a630"),r("d3b7"),r("3ca3"),r("ddb0"),Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},ef4c:function(e,t,r){var n=r("24fb");t=n(!1),t.push([e.i,'@charset "UTF-8";\r\n/**\r\n * 这里是uni-app内置的常用样式变量\r\n *\r\n * uni-app 官方扩展插件及插件市场（https://ext.dcloud.net.cn）上很多三方插件均使用了这些样式变量\r\n * 如果你是插件开发者，建议你使用scss预处理，并在插件代码中直接使用这些变量（无需 import 这个文件），方便用户通过搭积木的方式开发整体风格一致的App\r\n *\r\n */\r\n/**\r\n * 如果你是App开发者（插件使用者），你可以通过修改这些变量来定制自己的插件主题，实现自定义主题功能\r\n *\r\n * 如果你的项目同样使用了scss预处理，你也可以直接在你的 scss 代码中使用如下变量，同时无需 import 这个文件\r\n */\r\n/* 颜色变量 */\r\n/* 行为相关颜色 */\r\n/* 文字基本颜色 */\r\n/* 背景颜色 */\r\n/* 边框颜色 */\r\n/* 尺寸变量 */\r\n/* 文字尺寸 */\r\n/* 图片尺寸 */\r\n/* Border Radius */\r\n/* 水平间距 */\r\n/* 垂直间距 */\r\n/* 透明度 */\r\n/* 文章场景相关 */.order-back[data-v-48b0928f]{box-sizing:border-box;padding:%?30?% %?30?%}.order-back .services .title[data-v-48b0928f]{color:#3e3e3e;font-size:%?32?%;line-height:%?46?%}.order-back .services .btns[data-v-48b0928f]{display:flex;justify-content:flex-start}.order-back .services .btns .btn[data-v-48b0928f]{width:%?124?%;height:%?50?%;border:1px solid #354e44;border-radius:%?10?%;font-size:%?22?%;color:#354e44;text-align:center;line-height:%?50?%;margin:%?10?% %?20?%}.order-back .services .btns .btn.active[data-v-48b0928f]{background-color:#354e44;color:#fff}.order-back .services .btns .btn uni-radio[data-v-48b0928f]{display:none}.order-back .card[data-v-48b0928f]{box-sizing:border-box;padding:%?36?%;border-radius:%?24?%;background-color:#fff;margin:%?30?% auto;font-size:%?24?%;color:#3e3e3e}.order-back .card .order-title[data-v-48b0928f]{line-height:%?33?%;display:flex;justify-content:space-between;border-bottom:1px solid #f1ece7;padding-bottom:%?30?%}.order-back .card .order-title .status[data-v-48b0928f]{color:#034c46}.order-back .card .sku-block[data-v-48b0928f]{display:flex;justify-content:flex-start;border-bottom:1px solid #f1ece7;padding:%?30?% 0}.order-back .card .sku-block .img[data-v-48b0928f]{width:%?162?%;height:%?162?%;flex-shrink:0;background-color:#8f8f94}.order-back .card .sku-block .info[data-v-48b0928f]{width:%?470?%;margin-left:%?28?%}.order-back .card .sku-block .info .p1[data-v-48b0928f],\r\n.order-back .card .sku-block .info .p2[data-v-48b0928f]{display:flex;justify-content:space-between;align-items:center}.order-back .card .sku-block .info .p1[data-v-48b0928f]{font-size:%?26?%;line-height:37px}.order-back .card .sku-block .info .p1 .title[data-v-48b0928f]{color:#3e3e3e}.order-back .card .sku-block .info .p1 .price[data-v-48b0928f]{colro:#8d8d8d}.order-back .card .sku-block .info .p2[data-v-48b0928f],\r\n.order-back .card .sku-block .info .p3[data-v-48b0928f]{font-size:%?22?%;color:#8d8d8d;line-height:%?30?%;margin-top:%?5?%}.order-back .card .sku-block .info .p4[data-v-48b0928f]{text-align:right;margin-top:%?10?%;color:#8d8d8d;text-decoration:underline}.order-back .card .total-price[data-v-48b0928f]{font-size:%?26?%;line-height:%?37?%;text-align:right;margin-top:%?14?%;display:flex;justify-content:flex-end}.order-back .card .btns[data-v-48b0928f]{margin-top:%?20?%;display:flex;justify-content:flex-end}.order-back .card .btns .btn[data-v-48b0928f]{width:%?124?%;height:%?50?%;border:1px solid #2d4f43;font-size:%?26?%;border-radius:%?10?%;color:#2d4f43;text-align:center;line-height:%?50?%;margin-left:%?32?%}.order-back .card .btns .btn.btn-closed[data-v-48b0928f]{width:auto;padding:0 1em;border-color:#dd524d}.order-back .per[data-v-48b0928f]{display:flex;align-items:flex-start;justify-content:space-between;font-size:%?24?%;padding:%?30?%;background:#fff;border-bottom:1Px solid #f1ece7}.order-back .per .title[data-v-48b0928f]{font-size:%?24?%}.order-back .per uni-input[data-v-48b0928f]{font-size:%?24?%;text-align:right}.order-back .per uni-textarea[data-v-48b0928f]{width:50%;font-size:%?24?%}.order-back .upload .title[data-v-48b0928f]{font-size:12px;padding:15px 0}.order-back .uploadImg[data-v-48b0928f]{display:flex;align-items:center}.order-back .uploadImg .imgList[data-v-48b0928f]{display:flex;align-items:center}.order-back .uploadImg .imgList .box[data-v-48b0928f]{width:%?120?%;height:%?120?%;background:rgba(0,0,0,.1);border-radius:%?8?%;margin-left:%?20?%;position:relative}.order-back .uploadImg .imgList .box .dels[data-v-48b0928f]{position:absolute;top:%?-10?%;right:%?-10?%;width:%?34?%;height:%?34?%}.order-back .uploadImg .imgList uni-image[data-v-48b0928f]{width:100%;height:100%}.order-back .uploadImg .uploadBtn[data-v-48b0928f]{display:flex;align-items:center;justify-content:center;flex-wrap:wrap;flex-direction:column;font-size:10px;color:#666;width:%?120?%;height:%?120?%}.order-back .uploadImg .uploadBtn uni-image[data-v-48b0928f]{width:%?58?%;height:%?58?%}.order-back .btn-sub[data-v-48b0928f]{margin:%?120?% auto;width:%?536?%;height:%?94?%;font-size:%?30?%;text-align:center;line-height:%?94?%;background:#354e44;color:#fff;border-radius:14px;border-radius:14px}',""]),e.exports=t},f83c:function(e,t,r){var n=r("ef4c");"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var a=r("4f06").default;a("0f8eaec1",n,!0,{sourceMap:!1,shadowMode:!1})}}]);