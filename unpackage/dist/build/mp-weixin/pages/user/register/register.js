(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user/register/register"],{"05aa":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,i=r(n("687c")),a=r(n("8a50")),s=r(n("a152"));function r(t){return t&&t.__esModule?t:{default:t}}var u=function(){n.e("components/watch-login/watch-input").then(function(){return resolve(n("e484"))}.bind(null,n)).catch(n.oe)},c=function(){n.e("components/watch-login/watch-button").then(function(){return resolve(n("0429"))}.bind(null,n)).catch(n.oe)},l={data:function(){return{avatar:"/static/icons/leju-logo.png",tel:"",password:"",verCode:"",nickname:"",showAgree:!0,isRotate:!1,username:""}},components:{wInput:u,wButton:c},onLoad:function(){var e=t.getStorageSync("phone");e&&(this.tel=e)},mounted:function(){o=this},methods:{decryptPhoneNumber:function(e){if(console.log(e),e.detail.iv){var n="wx533999245c2a4823",i="",a=e.detail.encryptedData,r=e.detail.iv;t.login({provider:"weixin",success:function(e){t.request({url:"http://bufantec.com/admin/xy/lite/student/doLogin",data:{code:e.code,appid:n},success:function(e){i=e.data.data.session_key;var u=new s.default(n,i),c=u.decryptData(a,r);o.tel=c.phoneNumber,t.setStorageSync("phone",c.phoneNumber)}})}})}else t.showToast({title:"获取手机号失败,请同意授权获取手机号",icon:"none"})},isShowAgree:function(){o.showAgree=!o.showAgree},getVerCode:function(){if(11!=o.tel.length)return t.showToast({icon:"none",position:"bottom",title:"手机号不正确"}),!1;this.$refs.runCode.$emit("runCode"),t.showToast({icon:"none",position:"bottom",title:"模拟倒计时触发"}),setTimeout((function(){o.$refs.runCode.$emit("runCode",0),t.showToast({icon:"none",position:"bottom",title:"模拟倒计时终止"})}),3e3)},startReg:function(){if(this.isRotate)return!1;if(0==this.showAgree)return t.showToast({icon:"none",position:"bottom",title:"请先同意《协议》"}),!1;if(11!=this.tel.length)return t.showToast({icon:"none",position:"bottom",title:"手机号不正确"}),!1;if(this.username.length<2)return t.showToast({icon:"none",position:"bottom",title:"用户名长度2~12"}),!1;if(this.password.length<6)return t.showToast({icon:"none",position:"bottom",title:"密码不正确"}),!1;if(4!=this.verCode.length)return t.showToast({icon:"none",position:"bottom",title:"验证码不正确"}),!1;o.isRotate=!0;var e={birthday:"",city:"",email:"",growth:0,historyIntegration:0,icon:this.avatar,integration:0,isDisabled:0,memberLevelId:"",nickname:this.nickname,password:this.password,personalizedSignature:"",phone:this.tel,realname:"",sex:0,sourceType:0,status:1,username:this.username,wxOpenId:""};a.default.register(e).then((function(e){1==e.success&&(t.showToast({title:"注册成功!"}),setTimeout((function(){t.redirectTo({url:"/pages/user/login/login"})}),1e3)),o.isRotate=!1})).catch((function(t){}))},seleAvatar:function(){var e=this;t.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:function(n){t.uploadFile({url:"".concat(i.default,"/lejuClient/login/uploadAvatar"),filePath:n.tempFilePaths[0],name:"file",fileType:"image/video/audio",success:function(t){console.log(t);var n=JSON.parse(t.data).data.fileUrl;e.avatar=n}})}})}}};e.default=l}).call(this,n("543d")["default"])},"0661":function(t,e,n){"use strict";n.r(e);var o=n("ffcf"),i=n("c71b");for(var a in i)"default"!==a&&function(t){n.d(e,t,(function(){return i[t]}))}(a);n("e99b"),n("d0b0");var s,r=n("f0c5"),u=Object(r["a"])(i["default"],o["b"],o["c"],!1,null,"3e5ce220",null,!1,o["a"],s);e["default"]=u.exports},"0b46":function(t,e,n){},"9f47":function(t,e,n){"use strict";(function(t){n("b186");o(n("66fd"));var e=o(n("0661"));function o(t){return t&&t.__esModule?t:{default:t}}wx.__webpack_require_UNI_MP_PLUGIN__=n,t(e.default)}).call(this,n("543d")["createPage"])},c71b:function(t,e,n){"use strict";n.r(e);var o=n("05aa"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,(function(){return o[t]}))}(a);e["default"]=i.a},cbf1:function(t,e,n){},d0b0:function(t,e,n){"use strict";var o=n("cbf1"),i=n.n(o);i.a},e99b:function(t,e,n){"use strict";var o=n("0b46"),i=n.n(o);i.a},ffcf:function(t,e,n){"use strict";var o;n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return o}));var i=function(){var t=this,e=t.$createElement;t._self._c},a=[]}},[["9f47","common/runtime","common/vendor"]]]);